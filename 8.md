## Чем отличаются .NetStandart/PCL/Shared проекты?

### [Shared](https://docs.microsoft.com/ru-ru/xamarin/cross-platform/app-fundamentals/code-sharing)

Может содержать файлы исходного кода, ресурсы.
В результате "Сборки" данного проекта отдельная .dll не формируется.
Производится копирование всех файлов в каждый проект (Android/iOS/UWP).

Общий код получает доступ ко всем библиотекам платформенных проектов. (Nuget-ы подключаются там же).
Вызов платформозависимых методов должен осуществляться с помощью указания директив компилятора: 
```
#if __MOBILE__	Any mobile project (vs. desktop)
#if __ANDROID__	Xamarin.Android 
#if __IOS__	Xamarin.iOS 
#if __MAC__	Xamarin.Mac 
#if __TVOS__	iOS tvOS 
#if __WATCHOS__	iOS watchOS 
#if WINDOWS_UWP	Windows 10 UWP 
```

#### Преимущества:
* Прямой вызов нативных методов

#### Недостатки:
* Невозможно распространять в виде какого-либо пакета.
* Наличие множества блоков #if в коде. Для упрощения чтения возможно создавть partial классы.
Тем не менее код становится менее удобочитаемым.

### [PCL (Устаревший тип проекта)](https://docs.microsoft.com/ru-ru/xamarin/cross-platform/app-fundamentals/pcl?tabs=windows)

Представляет собой компилируемую в .dll библиотеку классов.
Нацеленную на определенные платформы, которые поддерживает один из возможных [профилей](https://portablelibraryprofiles.stephencleary.com/). 
Профиль определяет минимальную версию .Net framework-а и поддерживаемый API (набор классов BCL/features) по принципу "наименьшего знаменателя".
 
#### Преимущества
* Возможность распространение через Nuget.
* Возможность подключить к Desktop приложению, нацеленному на соответствующий .Net framework
* Поддерживает абстрактный вызов нативных методов (DependencyService)

#### Недостатки
* Считается устаревшей. Рекомендуется использовать .NET Standard 
* Невозможно напрямую вызвать нативные методы (только через DependencyService)
* В зависимости от выбранной платформы 

### [.NetStandart](https://docs.microsoft.com/ru-ru/xamarin/cross-platform/app-fundamentals/net-standard?tabs=windows)

В отличие от PCL каждая версия предоставляет определенный набор API:
* Чем выше версия, тем больше API доступно для вас, но меньше поддерживаемых платформ.
* Чем ниже версия, тем больше поддерживаемых платформ, но меньше доступных API.

#### Преимущества
* Все преимущества PCL
* Возможность использовать в проекте .Net Core

#### Недостатки
* Много плагинов для Xamarin ещё не наценелы на .Net Standart, что может привести к некоторым сложностям при подключении к проекту [Пример](https://mallibone.com/post/using-pcl-only-libraries-with-net-standard) 
